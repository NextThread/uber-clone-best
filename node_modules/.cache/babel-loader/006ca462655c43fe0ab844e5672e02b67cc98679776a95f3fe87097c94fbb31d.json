{"ast":null,"code":"import _slicedToArray from\"/Users/binarybeast/uber-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{app}from\"../../firebase\";import{getAuth,GoogleAuthProvider,FacebookAuthProvider,signInWithPopup}from\"firebase/auth\";import{FacebookSVG,LogoSVG,GoogleSVG}from\"../../Component/const/svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Auth=function Auth(){var auth=getAuth(app);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isError=_useState2[0],setIsError=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setinput=_useState4[1];var handleChange=function handleChange(event){setinput(event.target.value);};//const [isAuthorised, setIsAuthorised] = useState(false)\n// useEffect(() => {\n//    const userName = localStorage.getItem('userName');\n//     if (userName) {\n//       window.location.href = \"/\";\n//     }\n//   },[isAuthorised]);\nvar signInWithGoogle=function signInWithGoogle(){var provider=new GoogleAuthProvider();signInWithPopup(auth,provider).then(function(result){var name=result.user.displayName;console.log(name);if(name){localStorage.setItem('userName',name);//setIsAuthorised(true)\nwindow.location.reload();}}).catch(function(error){console.log(error);if(!error.code&&!error.message&&!error.customData){setIsError(true);}});};var signInWithFacebook=function signInWithFacebook(){var provider=new FacebookAuthProvider();signInWithPopup(auth,provider).then(function(result){var name=result.user.displayName;console.log(name);if(name){localStorage.setItem('userName',name);window.location.reload();}}).catch(function(error){console.log(error);if(!error.code&&!error.message&&!error.customData){setIsError(true);}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-black py-6 px-6 md:px-8 cursor-pointer\",children:/*#__PURE__*/_jsx(LogoSVG,{})}),/*#__PURE__*/_jsxs(\"section\",{className:\" my-[2em] sm:my-[7em]  mx-auto w-[90%] sm:w-[380px] font-[arial] placeholder-text-reed-400\",children:[isError&&/*#__PURE__*/_jsx(\"div\",{className:\"error_message  mx-auto bg-red-100 py-3 text-center text-red-600 rounded-lg mb-3\",children:\"Something went wrong. Please try again!.\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl mb-3\",children:\"What's your phone number or email?\"}),/*#__PURE__*/_jsx(\"input\",{className:\"focus:border bg-gray-200 w-full px-3 py-3 rounded-lg placeholder-gray-500\",placeholder:\"Enter phone number or email\",autoFocus:true,inputMode:\"email\",autoComplete:\"email\",value:input,onChange:handleChange}),!isPhoneNumberOrEmail(input)&&input.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm font-medium my-1\",children:\"Please enter a phone number or email \"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-black text-white w-full px-3 py-3 rounded-lg my-3 font-semibold\",children:\"Continue\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center my-2\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"flex-grow border-t-1 border-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"or\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"flex-grow border-t-1 border-gray-400 ml-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"social_media_auth\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:signInWithGoogle,className:\"google flex cursor-pointer justify-center   px-3 py-3  my-3 hover:bg-gray-200 font-[Arial] bg-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(GoogleSVG,{}),/*#__PURE__*/_jsx(\"button\",{className:\"text-center text-md font-semibold ml-3\",children:\"Continue with Google\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:signInWithFacebook,className:\"facebook cursor-pointer flex justify-center px-3 py-3 my-3 hover:bg-gray-200 font-[Arial] bg-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(FacebookSVG,{}),/*#__PURE__*/_jsx(\"button\",{className:\"text-center ml-3 text-md font-semibold\",children:\"Continue with Facebook\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info text-[#6B6B6B] text-[12px] mt-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"By proceeding, you consent to get calls, WhatsApp or SMS messages, including by automated means, from Uber and its affiliates to the number provided.\"}),/*#__PURE__*/_jsx(\"p\",{})]})]})]});};function isPhoneNumberOrEmail(input){// Phone number regular expression\nvar phoneNumberRegex=/^\\+?[0-9()-]{7,20}$/;// Email regular expression\nvar emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;// Check if input matches phone number or email format\nif(phoneNumberRegex.test(input)||emailRegex.test(input)){return true;}else{return false;}}export default Auth;","map":{"version":3,"names":["useState","app","getAuth","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","FacebookSVG","LogoSVG","GoogleSVG","jsx","_jsx","jsxs","_jsxs","Auth","auth","_useState","_useState2","_slicedToArray","isError","setIsError","_useState3","_useState4","input","setinput","handleChange","event","target","value","signInWithGoogle","provider","then","result","name","user","displayName","console","log","localStorage","setItem","window","location","reload","catch","error","code","message","customData","signInWithFacebook","children","className","placeholder","autoFocus","inputMode","autoComplete","onChange","isPhoneNumberOrEmail","length","onClick","phoneNumberRegex","emailRegex","test"],"sources":["/Users/binarybeast/uber-clone/src/Pages/auth/index.tsx"],"sourcesContent":[" import { useState} from 'react';\n import { app } from \"../../firebase\";\n import { getAuth, GoogleAuthProvider, FacebookAuthProvider,signInWithPopup} from \"firebase/auth\";\nimport { FacebookSVG, LogoSVG, GoogleSVG } from \"../../Component/const/svg\";\n\nconst Auth = () => {\n  const auth = getAuth(app);\n  const [isError, setIsError] = useState(false);\n  const [input, setinput] = useState('');\n\n\n  const handleChange = (event:any) =>{\n    setinput(event.target.value)\n  }\n  //const [isAuthorised, setIsAuthorised] = useState(false)\n\n\n  // useEffect(() => {\n  //    const userName = localStorage.getItem('userName');\n  //     if (userName) {\n  //       window.location.href = \"/\";\n  //     }\n  //   },[isAuthorised]);\n\n  const signInWithGoogle = () => {\n     const provider = new GoogleAuthProvider();\n     signInWithPopup(auth, provider)\n     .then((result) => {\n      const name = result.user.displayName;\n      console.log(name);\n      if(name){\n        localStorage.setItem('userName', name)\n        //setIsAuthorised(true)\n        window.location.reload()\n        \n      }\n\n     }).catch((error) => {\n       console.log(error);\n       if(!error.code && !error.message && !error.customData){\n         setIsError(true)\n      }\n     });\n  }\n \n const signInWithFacebook = () => {\n     const provider = new FacebookAuthProvider();\n     signInWithPopup(auth, provider)\n     .then((result) => {\n         const name = result.user.displayName;\n         console.log(name);\n         if(name){\n          localStorage.setItem('userName', name)\n         window.location.reload()\n        }\n         }\n     ).catch((error) => {\n       console.log(error);\n       if(!error.code && !error.message && !error.customData){\n          setIsError(true)\n       }\n     }\n     );\n }\n \n    return (\n        <div>\n          <header className=\"bg-black py-6 px-6 md:px-8 cursor-pointer\">\n            <LogoSVG/>\n          </header>\n          <section className=\" my-[2em] sm:my-[7em]  mx-auto w-[90%] sm:w-[380px] font-[arial] placeholder-text-reed-400\">\n          {isError && <div className=\"error_message  mx-auto bg-red-100 py-3 text-center text-red-600 rounded-lg mb-3\">\n            Something went wrong. Please try again!.\n          </div>}\n            <form className='login'>\n                <h2 className='text-2xl mb-3'>What's your phone number or email?</h2>\n                <input className='focus:border bg-gray-200 w-full px-3 py-3 rounded-lg placeholder-gray-500'\n                placeholder='Enter phone number or email'\n                autoFocus\n                inputMode='email'\n                autoComplete='email'\n                value={input}\n                onChange={handleChange}\n                />\n                {!isPhoneNumberOrEmail(input) && input.length > 0 && <p className='text-red-600 text-sm font-medium my-1'>Please enter a phone number or email </p>\n                }\n                \n\n                <button className='bg-black text-white w-full px-3 py-3 rounded-lg my-3 font-semibold'>Continue</button>\n            </form>\n\n            <span className=\"flex items-center my-2\">\n              <hr className=\"flex-grow border-t-1 border-gray-400 mr-2\"/>\n              <span className=\"text-gray-500\">or</span>\n              <hr className=\"flex-grow border-t-1 border-gray-400 ml-2\"/>\n            </span>\n            \n            <div className='social_media_auth'>\n            <div \n              onClick={signInWithGoogle}\n              className=\"google flex cursor-pointer justify-center   px-3 py-3  my-3 hover:bg-gray-200 font-[Arial] bg-gray-100 rounded-lg\">\n              <GoogleSVG/>\n              <button\n              className=\"text-center text-md font-semibold ml-3\"\n              >Continue with Google</button>\n            </div>\n            <div\n            onClick={signInWithFacebook}\n             className=\"facebook cursor-pointer flex justify-center px-3 py-3 my-3 hover:bg-gray-200 font-[Arial] bg-gray-100 rounded-lg\">\n              <FacebookSVG/>\n              <button className=\"text-center ml-3 text-md font-semibold\" >Continue with Facebook\n              </button>\n            </div>\n            </div>\n            < div className='info text-[#6B6B6B] text-[12px] mt-5'>\n              <p>By proceeding, you consent to get calls, WhatsApp or SMS messages, including by automated means, from Uber and its affiliates to the number provided.\n              </p>\n              <p>\n              {/* <a className='underline text-black'>Privacy Policy</a>  and <a className='underline text-black' href='#'>Terms of Service</a> apply. */}\n              </p>\n            </div>\n            \n          </section>\n        </div>\n    );\n}\n\n\nfunction isPhoneNumberOrEmail(input:any) {\n  // Phone number regular expression\n  const phoneNumberRegex = /^\\+?[0-9()-]{7,20}$/;\n  \n  // Email regular expression\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  \n  // Check if input matches phone number or email format\n  if (phoneNumberRegex.test(input) || emailRegex.test(input)) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport default Auth;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}